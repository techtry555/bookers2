<!--Users#indexのページ-->

<!-- 【px-5】は、padding-左右-全sizeで5,【px-sm-0】は、padding-左右-smallsizeで5 -->
<div class ="cantainer px-5 px-sm-0">
  <div class="row">

    <!-- 部分テンプレートを呼び出す設定。フォルダが違うので books/list。 -->
    <!-- 【render '部分テンプレファイル名(_省略)', ローカル変数: 渡す値】 -->
    <%= render 'books/list', book: @book %>

      <!-- 【offset-md-1】は、先頭に余白。つまり、真ん中に余白作る。 -->
      <div class="col-md-8 offset-md-1" >
        <h2>Users</h2>
        <table class="table">
          <!-- 表のヘッダ部分 -->
          <thead>
            <tr>
              <th>image</th>
              <th>name</th>
              <th colspan="3"></th>
            </tr>
          </thead>
          <!-- 表のボディ部分 -->
          <tbody>
          <!-- 全レコードから取得した情報を1つずつ処理。-->
          <% @books.each do |book| %>
            <tr>
              <!-- 投稿ユーザーの画像表示-->
              <!-- link_to のテキスト部分をimage_tag() にすればOK。-->
              <td><%= link_to image_tag book.user.get_profile_image(40,40) %></td>
              <!-- block関数bookを使って記述。-->
              <!-- 複数の本を表示する為、各本を区別するから (book.id)を引数に。-->
              <!-- book_pathは、/books/:idへ。books#showへ。-->
              <td><%= link_to book.title, book_path(book.id) %></td>
              <td><%= book.body %></td>
            </tr>
          <% end %>
          </tbody>
        </table>
      </div>
    </div>
  </div>